


//Make a check when page scrolls:
document.addEventListener('scroll', function () {
    //If a specific id is in the viewport...
    if(isInViewport(document.getElementById("decline"))) {
        //...change the parent elements background image
        document.getElementById("changingBg").style.backgroundImage = "url(https://images.unsplash.com/photo-1606955317161-cb7d261c039a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80)"
    }
    if(isInViewport(document.getElementById("increase"))) {
        document.getElementById("changingBg").style.backgroundImage = "url(https://images.unsplash.com/photo-1465343161283-c1959138ddaa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80)"
    }

}, {
    passive: true
});



var map = L.map('map').setView([60.69450, 10.89501], 16) //600px 800px
L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
attribution: '<a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
}).addTo(map)
//L.marker([60.6950044, 10.8909811]).addTo(map)
const geoJsonObject_intisar = {
    
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "properties": {
            "name": "Intisar sitt hjem",
            "popupContent": "Eiendom med tomtegrenser: Hombsgutua 101, 2850 Lena",
        },
        "geometry": {
          "coordinates": [
        [
        [
            10.8904863,
            60.6950265
        ],
        [
            10.8911851,
            60.6951553
        ],
        [
            10.8913321,
            60.6946691
        ],
        [
            10.8909444,
            60.694691
        ],
        [
            10.8904863,
            60.6950265
        ]
        ]
          ],
          "type": "Polygon"
        }
      },
    ]
}
const geoJsonStyle_intisar  = {
    "color": "#FF33C1",
    "weight": 2,
    "opacity": 100,
}
L.geoJSON(geoJsonObject_intisar, {
            style: geoJsonStyle_intisar,
            oneEachFeature: function (feature, layer) {
            locationbar.bindPopup(feature.properties.title)
      }}).addTo(map)
const map_lable = L.marker([60.69485785929791, 10.891009401359469],{
    draggable: false,
    title: "Hover Text",
}).addTo(map).bindPopup("<p>Intisar tomt grense</p>")


const geoJsonObject_royk = {
    
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "geometry": {
          "coordinates": [
        [
            [
                10.89023399615195,
                60.69628453715676
              ],
              [
                10.890011130421696,
                60.696279178254365
              ],
              [
                10.889790411231301,
                60.69626315316162
              ],
              [
                10.889573964439778,
                60.69623661622475
              ],
              [
                10.889363874743939,
                60.696199823034576
              ],
              [
                10.889162165594094,
                60.69615312796409
              ],
              [
                10.888970779700518,
                60.69609698075439
              ],
              [
                10.888791560318689,
                60.696031922181746
              ],
              [
                10.888626233493685,
                60.69595857884779
              ],
              [
                10.888476391434963,
                60.69587765714299
              ],
              [
                10.888343477181675,
                60.69578993644171
              ],
              [
                10.888228770706244,
                60.69569626159429
              ],
              [
                10.888133376590021,
                60.695597534788625
              ],
              [
                10.888058213389575,
                60.695494706859854
              ],
              [
                10.888004004795913,
                60.695388768131615
              ],
              [
                10.887971272671543,
                60.69528073887738
              ],
              [
                10.887960332032172,
                60.69517165949372
              ],
              [
                10.88797128802111,
                60.695062580480034
              ],
              [
                10.888004034905174,
                60.69495455232152
              ],
              [
                10.888058257101447,
                60.694848615372656
              ],
              [
                10.88813343222468,
                60.694745789838485
              ],
              [
                10.88822883612568,
                60.69464706595065
              ],
              [
                10.888343549871859,
                60.69455339443217
              ],
              [
                10.88847646860245,
                60.69446567734301
              ],
              [
                10.888626312172976,
                60.69438475939468
              ],
              [
                10.888791637486179,
                60.69431141981718
              ],
              [
                10.888970852390706,
                60.69424636485666
              ],
              [
                10.889162231013533,
                60.694190220975884
              ],
              [
                10.889363930378599,
                60.694143528823254
              ],
              [
                10.889574008151651,
                60.694106738027685
              ],
              [
                10.88979044134056,
                60.69408020287016
              ],
              [
                10.890011145771265,
                60.69406417887314
              ],
              [
                10.89023399615195,
                60.694058820340736
              ],
              [
                10.890456846532636,
                60.69406417887314
              ],
              [
                10.89067755096334,
                60.69408020287016
              ],
              [
                10.890893984152251,
                60.694106738027685
              ],
              [
                10.891104061925304,
                60.694143528823254
              ],
              [
                10.89130576129037,
                60.694190220975884
              ],
              [
                10.891497139913197,
                60.69424636485666
              ],
              [
                10.891676354817722,
                60.69431141981718
              ],
              [
                10.891841680130927,
                60.69438475939468
              ],
              [
                10.89199152370145,
                60.69446567734301
              ],
              [
                10.892124442432042,
                60.69455339443217
              ],
              [
                10.892239156178219,
                60.69464706595065
              ],
              [
                10.892334560079219,
                60.694745789838485
              ],
              [
                10.892409735202456,
                60.694848615372656
              ],
              [
                10.892463957398727,
                60.69495455232152
              ],
              [
                10.89249670428279,
                60.695062580480034
              ],
              [
                10.89250766027173,
                60.69517165949372
              ],
              [
                10.892496719632359,
                60.69528073887738
              ],
              [
                10.892463987507988,
                60.695388768131615
              ],
              [
                10.892409778914326,
                60.695494706859854
              ],
              [
                10.892334615713878,
                60.695597534788625
              ],
              [
                10.892239221597656,
                60.69569626159429
              ],
              [
                10.892124515122225,
                60.69578993644171
              ],
              [
                10.891991600868938,
                60.69587765714299
              ],
              [
                10.891841758810216,
                60.69595857884779
              ],
              [
                10.891676431985212,
                60.696031922181746
              ],
              [
                10.891497212603381,
                60.69609698075439
              ],
              [
                10.891305826709807,
                60.69615312796409
              ],
              [
                10.891104117559962,
                60.696199823034576
              ],
              [
                10.890894027864123,
                60.69623661622475
              ],
              [
                10.890677581072598,
                60.69626315316162
              ],
              [
                10.890456861882205,
                60.696279178254365
              ],
              [
                10.89023399615195,
                60.69628453715676
              ]
        ]
          ],
          "type": "Polygon"
        }
      },
    ]
}
const geoJsonStyle_royk  = {
    "color": "#212121",
    "weight": 2,
    "opacity": 1,
}
L.geoJSON(geoJsonObject_royk, {
            style: geoJsonStyle_royk,
            oneEachFeature: function (feature, layer) {
            locationbar.bindPopup(feature.properties.title)
      }}).addTo(map)
const map_lable8 = L.marker([60.69485785929791, 10.891009401359469],{
    draggable: false,
    title: "Hover Text",
}).addTo(map).bindPopup("<p class=mapLabel >Intisar tomt grense</p> <img class=mapPic src=media/intisarhjem.jpg>")


const map_lable9 = L.marker([60.69521550275988, 10.889974341074947],{
    draggable: false,
    title: "Hover Text",
}).addTo(map).bindPopup("<p class=mapLabel >Den sorte ringen illustrer røyk utviklingen i område etter Sivilforsvaret øvelser </p> <img class=mapPic src=media/intisar_smoke_intro.jpg >")







const geoJsonObject_anonNabo = {
    
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "geometry": {
          "coordinates": [
        [
        [
            10.888031881887883,
            60.69551856386266
        ],
        [
            10.888222906931816,
            60.69465294786821
        ],
        [
            10.889288949914317,
            60.69470422193865
        ],
        [
            10.889344408797626,
            60.6955849167405
        ],
        [
            10.888013395593418,
            60.69550649968846
        ]
        ]
          ],
          "type": "Polygon"
        }
      },
    ]
}
const geoJsonStyle_anonNabo = {
    "color": "#008000",
    "weight": 2,
    "opacity": 100,
}
L.geoJSON(geoJsonObject_anonNabo, {
            style: geoJsonStyle_anonNabo,
            oneEachFeature: function (feature, layer) {
            layer.bindPopup(feature?.properties?.title)
          
      }}).addTo(map)


const geoJsonObject_horse = {
    
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "properties": {
            "name": "Intisar sitt hjem",
            "popupContent": "Eiendom med tomtegrenser: Hombsgutua 101, 2850 Lena",
        },
        "geometry": {
          "coordinates": [
        [
        [
            10.888198259286412,
            60.69522902236341
        ],
        [
            10.889153384502208,
            60.69521695808035
        ],
        [
            10.889134898207772,
            60.69473438305184
        ],
        [
            10.888284528661131,
            60.694698189632646
        ],
        [
            10.888179772991919,
            60.69523203843332
        ]
        ]
          ],
          "type": "Polygon"
        }
      },
    ]
}
const geoJsonStyle_horse = {
    "color": "#873939",
    "weight": 2,
    "opacity": 100,
}
L.geoJSON(geoJsonObject_horse, {
            style: geoJsonStyle_horse,
            oneEachFeature: function (feature, layer) {
            layer.bindPopup(feature?.properties?.title)
          
      }}).addTo(map)
const map_lable2 = L.marker([60.69499548459808, 10.888506219979632],{
    draggable: false,
    title: "Hover Text",
}).addTo(map).bindPopup("<p>Hestene</p> <img class=mapPic src=media/hester2.jpg >")
      

const geoJsonObject_ovingsbane = {
    
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "geometry": {
          "coordinates": [
        [
            //del Øvingsbane/området
    [
      10.89164655530675,
      60.69593298177971
    ],
    [
      10.89156055304864,
      60.695930913839845
    ],
    [
      10.891475379072206,
      60.69592472993643
    ],
    [
      10.891391853681053,
      60.695914489626176
    ],
    [
      10.891310781299525,
      60.695900291532716
    ],
    [
      10.89123294272455,
      60.69588227239655
    ],
    [
      10.891159087605127,
      60.695860605758085
    ],
    [
      10.891089927222028,
      60.69583550028603
    ],
    [
      10.891026127637147,
      60.69580719776755
    ],
    [
      10.890968303278607,
      60.69577597077942
    ],
    [
      10.890917011023344,
      60.69574212006268
    ],
    [
      10.890872744834216,
      60.695705971625955
    ],
    [
      10.890835931003227,
      60.6956678736056
    ],
    [
      10.890806924046714,
      60.69562819291266
    ],
    [
      10.890786003291955,
      60.695587311698986
    ],
    [
      10.890773370188086,
      60.69554562367686
    ],
    [
      10.890769146367152,
      60.69550353032708
    ],
    [
      10.890773372473944,
      60.6954614370324
    ],
    [
      10.890786007775823,
      60.695419749173446
    ],
    [
      10.890806930556284,
      60.69537886822477
    ],
    [
      10.890835939288339,
      60.69533918788841
    ],
    [
      10.890872754576474,
      60.695301090302586
    ],
    [
      10.890917021848363,
      60.695264942361604
    ],
    [
      10.890968314770387,
      60.69523109218277
    ],
    [
      10.891026139354064,
      60.69519986575405
    ],
    [
      10.891089938713808,
      60.69517156379498
    ],
    [
      10.891159098430148,
      60.69514645886083
    ],
    [
      10.891232952466808,
      60.69512479271812
    ],
    [
      10.891310789584638,
      60.69510677401646
    ],
    [
      10.891391860190623,
      60.69509257627959
    ],
    [
      10.891475383556077,
      60.69508233623433
    ],
    [
      10.891560555334497,
      60.69507615249408
    ],
    [
      10.89164655530675,
      60.69507408460931
    ],
    [
      10.891732555279003,
      60.69507615249408
    ],
    [
      10.891817727057424,
      60.69508233623433
    ],
    [
      10.891901250422876,
      60.69509257627959
    ],
    [
      10.89198232102886,
      60.69510677401646
    ],
    [
      10.89206015814669,
      60.69512479271812
    ],
    [
      10.892134012183352,
      60.69514645886083
    ],
    [
      10.892203171899691,
      60.69517156379498
    ],
    [
      10.892266971259435,
      60.69519986575405
    ],
    [
      10.892324795843113,
      60.69523109218277
    ],
    [
      10.892376088765136,
      60.695264942361604
    ],
    [
      10.892420356037023,
      60.695301090302586
    ],
    [
      10.892457171325162,
      60.69533918788841
    ],
    [
      10.892486180057215,
      60.69537886822477
    ],
    [
      10.892507102837675,
      60.695419749173446
    ],
    [
      10.892519738139555,
      60.6954614370324
    ],
    [
      10.89252396424635,
      60.69550353032708
    ],
    [
      10.892519740425415,
      60.69554562367686
    ],
    [
      10.892507107321546,
      60.695587311698986
    ],
    [
      10.892486186566783,
      60.69562819291266
    ],
    [
      10.892457179610272,
      60.6956678736056
    ],
    [
      10.892420365779286,
      60.695705971625955
    ],
    [
      10.892376099590154,
      60.69574212006268
    ],
    [
      10.892324807334893,
      60.69577597077942
    ],
    [
      10.892266982976352,
      60.69580719776755
    ],
    [
      10.892203183391471,
      60.69583550028603
    ],
    [
      10.892134023008373,
      60.695860605758085
    ],
    [
      10.892060167888951,
      60.69588227239655
    ],
    [
      10.891982329313972,
      60.695900291532716
    ],
    [
      10.891901256932446,
      60.695914489626176
    ],
    [
      10.891817731541293,
      60.69592472993643
    ],
    [
      10.891732557564858,
      60.695930913839845
    ],
    [
      10.89164655530675,
      60.69593298177971
    ]
        ]
          ],
          "type": "Polygon"
        }
      },
    ]
}   
const geoJsonStyle_ovingsbane = {
    "color": "#F00000",
    "weight": 2,
    "opacity": 100,
}
L.geoJSON(geoJsonObject_ovingsbane, {
            style: geoJsonStyle_ovingsbane,
            oneEachFeature: function (feature, layer) {
            layer.bindPopup(feature?.properties?.title)
          
      }}).addTo(map)
const map_lable3 = L.marker([60.695391905716775, 10.891375564304866],{
    draggable: false,
    title: "Hover Text",
}).addTo(map).bindPopup("<p>Øvelses område</p> <img class=mapPic src=media/burnedcar.jpg>")


const geoJsonObject_Sfs = {
    
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "geometry": {
          "coordinates": [
          [
            //Del 1 Øvelsebane
            
            [
                10.8956163,
                60.6952533
            ],
            [
                10.8955635,
                60.6953524
            ],
            [
                10.8946854,
                60.6957077
            ],
            [
                10.8942654,
                60.6955254
            ], 
            [
                10.8928025,
                60.6957777
            ],
            [
                10.8919104,
                60.696244
            ],
            [
                10.8893463,
                60.6959882
            ],
            [
                10.8893172,
                60.6953791
            ],
            [
                10.8897597,
                60.6953436
            ],
            [
                10.8900398,
                60.6952508
            ],
            [
                10.8904863,
                60.6950265
            ],
            [
                10.8911851,
                60.6951553
            ],
            [
                10.8913321,
                60.6946691
            ],
            [
                10.8944541,
                60.6944862
            ],
            [
                10.8947344,
                60.6946084
            ],
            [
                10.8956144,
                60.6952531
            ],
            [
                10.8956163,
                60.6952533
            ],
            
            ]
          ],
          "type": "Polygon"
        }
      },
    
      {
"type": "Feature",
"properties": {},
"geometry": {
"coordinates": [
 [ 
            //del 2 Lager
            
            [
                10.8947982,
                60.6957566
            ],
            [	
                10.895706,
                60.6961527
            ],
            [
                10.896057,
                60.695967
            ],
            [
                10.896142,
                60.6957047
            ],
            [
                10.8960777,
                60.695556
            ],
            [
                10.8957751,
                60.6953617
            ],
            [
                10.8947982,
                60.6957566
            ]

            ]
          ],
          "type": "Polygon"
        }
      },
      {
"type": "Feature",
"properties": {},
"geometry": {
"coordinates": [
 [  

            //del 3 Tomt
            
            [	
                10.8962052,
                60.6956003
            ],
            [
                10.8968855,
                60.6957679
            ],
            [
                10.8962426,
                60.6960316
            ],
            [
                10.8961806,
                60.6959833
            ],
            [
                10.896239,
                60.6957667
            ],
            [
                10.8962052,
                60.6956003
            ],
            
            ]
          ],
          "type": "Polygon"
        }
      },
      {
"type": "Feature",
"properties": {},
"geometry": {
"coordinates": [
 [          
            //Del 4 Administrasjon
            [	
                10.8947838,
                60.6945323
            ],
            [
                10.8948712,
                60.6944573
            ],
            [
                10.8992443,
                60.6935844
            ],
            [
                10.899773,
                60.6938593
            ],
            [
                10.8997473,
                60.693918
            ],
            [
                10.9003621,
                60.6943736
            ],
            [
                10.8974052,
                60.6955582
            ],
            [
                10.8973545,
                60.6955279
            ],
            [
                10.8973554,
                60.6955276
            ],
            [
                10.8968888,
                60.695699
            ],
            [
                10.8962049,
                60.6955423
            ],
            [	
                10.896077,
                60.6954738
            ],
            [	
                10.8947857,
                60.6945331
            ]
        ]
          ],
          "type": "Polygon"
        }
      },
      {
"type": "Feature",
"properties": {},
"geometry": {
"coordinates": [
 [          //Del 5 Beredskap/Varemottak
 [	
                10.8972486,
                60.6937472
            ],
            [	
                10.8971962,
                60.6937653
            ],
            [	
                10.8972378,
                60.6939743
            ],
            [	
                10.8977735,
                60.6938729
            ],
            [	
                10.89988023,
                60.6933419
            ],
            [	
                10.8988505,
                60.6929019
            ],
            [	
                10.8986922,
                60.6928476
            ],
            [	
                10.8984574,
                60.6928356
            ],
            [	
                10.8982319,
                60.692916
            ],
            [	
                10.8980836,
                60.693105
            ],
            [	
                10.8980083,
                60.6931603
            ],
            [	
                10.8975645,
                60.6933959
            ],
            [	
                10.8974979,
                60.6934908
            ],
            [	
                10.8974981,
                60.6935603
            ],
            [	
                10.8974519,
                60.6936135
            ],
            [	
                10.8972166,
                60.6936761
            ],
            [	
                10.8972166,
                60.6936761
            ],
            [	
                10.8971982,
                60.6936897
            ],
            [	
                10.8971936,
                60.6937018
            ],
            [	
                10.8972486,
                60.6937472
            ],
            [	
                10.8971962,
                60.6937653
            ],
            
]],
"type": "Polygon"
}
}
    ]
}
const geoJsonStyle_Sfs = {
    "color": "#0622C2",
    "weight": 2,
    "opacity": 1,
}
L.geoJSON(geoJsonObject_Sfs, {
            style : geoJsonStyle_Sfs,
            oneEachFeature: function (feature, layer) {
            layer.bindPopup(feature?.properties?.title)
          
      }}).addTo(map)

const map_lable4 = L.marker([60.69513000087929, 10.893717928881358],{
    draggable: false,
    title: "Hover Text",
}).addTo(map).bindPopup("<p>Opplæringssenter</p>")

const map_lable5 = L.marker([60.69460621532207, 10.897665512979017],{
    draggable: false,
    title: "Hover Text",
    }).addTo(map).bindPopup("<p>Sivilforsvarets administrasjon</p>")
const map_lable6 = L.marker([60.69347713744065, 10.898188686774859],{
    draggable: false,
    title: "Hover Text",
    }).addTo(map).bindPopup("<p>Beredskapslageret</p>")
const map_lable7 = L.marker([60.69574689292804, 10.895549037167768],{
    draggable: false,
    title: "Hover Text",
    }).addTo(map).bindPopup("<p>Øvelses utstyrs lager</p>")